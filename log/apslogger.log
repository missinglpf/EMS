Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:06:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short, socket_upload, socket_download,
NameError: name 'socket_upload' is not defined
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:11:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:13:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:14:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:15:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:17:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:18:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:19:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 1182, in _execute_context
    context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\default.py", line 470, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 250, in execute
    self.errorhandler(self, exc, value)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\connections.py", line 50, in defaulterrorhandler
    raise errorvalue
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 247, in execute
    res = self._query(query)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 411, in _query
    rowcount = self._do_query(q)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 374, in _do_query
    db.query(q)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\connections.py", line 277, in query
    _mysql.connection.query(self, query)
_mysql_exceptions.IntegrityError: (1062, "Duplicate entry '1516342740' for key 'PRIMARY'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 22, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 161, in short_term_forecasting_pv_history
    session.commit()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 921, in commit
    self.transaction.commit()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 461, in commit
    self._prepare_impl()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 441, in _prepare_impl
    self.session.flush()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 2192, in flush
    self._flush(objects)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 2312, in _flush
    transaction.rollback(_capture_exception=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\util\langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\util\compat.py", line 187, in reraise
    raise value
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 2276, in _flush
    flush_context.execute()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 389, in execute
    rec.execute(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 548, in execute
    uow
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\persistence.py", line 799, in _emit_insert_statements
    execute(statement, multiparams)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 945, in execute
    return meth(self, multiparams, params)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\sql\elements.py", line 263, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 1053, in _execute_clauseelement
    compiled_sql, distilled_params
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 1189, in _execute_context
    context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 1402, in _handle_dbapi_exception
    exc_info
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\util\compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\util\compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 1182, in _execute_context
    context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\default.py", line 470, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 250, in execute
    self.errorhandler(self, exc, value)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\connections.py", line 50, in defaulterrorhandler
    raise errorvalue
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 247, in execute
    res = self._query(query)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 411, in _query
    rowcount = self._do_query(q)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 374, in _do_query
    db.query(q)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\connections.py", line 277, in query
    _mysql.connection.query(self, query)
sqlalchemy.exc.IntegrityError: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516342740' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516342740, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:19:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:20:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 22, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516342740' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516342740, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:20:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_10:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_10:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:21:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 22, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516342740' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516342740, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:21:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:22:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 22, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516342740' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516342740, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:22:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:23:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 22, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516342740' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516342740, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:23:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:24:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 22, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516342740' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516342740, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:25:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 22, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516342740' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516342740, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:25:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:26:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 22, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516342740' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516342740, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-19 14:26:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 31, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 40, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:36:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short,ACmodel),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel )
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC, ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:37:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short,ACmodel),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel )
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC, ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:38:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short,ACmodel),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel )
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC, ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:39:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short,ACmodel),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel )
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC, ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:40:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short,ACmodel),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel )
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC, ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:41:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short,ACmodel),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel )
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC, ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:42:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short,ACmodel),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel )
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC, ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:43:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short,ACmodel),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel )
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC, ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:49:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:50:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:52:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:53:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 12:54:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 32, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 278, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:06:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:08:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:09:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:10:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:11:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 1182, in _execute_context
    context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\default.py", line 470, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 250, in execute
    self.errorhandler(self, exc, value)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\connections.py", line 50, in defaulterrorhandler
    raise errorvalue
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 247, in execute
    res = self._query(query)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 411, in _query
    rowcount = self._do_query(q)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 374, in _do_query
    db.query(q)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\connections.py", line 277, in query
    _mysql.connection.query(self, query)
_mysql_exceptions.IntegrityError: (1062, "Duplicate entry '1516425060' for key 'PRIMARY'")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 161, in short_term_forecasting_pv_history
    session.commit()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 921, in commit
    self.transaction.commit()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 461, in commit
    self._prepare_impl()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 441, in _prepare_impl
    self.session.flush()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 2192, in flush
    self._flush(objects)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 2312, in _flush
    transaction.rollback(_capture_exception=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\util\langhelpers.py", line 66, in __exit__
    compat.reraise(exc_type, exc_value, exc_tb)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\util\compat.py", line 187, in reraise
    raise value
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 2276, in _flush
    flush_context.execute()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 389, in execute
    rec.execute(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\unitofwork.py", line 548, in execute
    uow
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\persistence.py", line 181, in save_obj
    mapper, table, insert)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\persistence.py", line 799, in _emit_insert_statements
    execute(statement, multiparams)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 945, in execute
    return meth(self, multiparams, params)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\sql\elements.py", line 263, in _execute_on_connection
    return connection._execute_clauseelement(self, multiparams, params)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 1053, in _execute_clauseelement
    compiled_sql, distilled_params
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 1189, in _execute_context
    context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 1402, in _handle_dbapi_exception
    exc_info
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\util\compat.py", line 203, in raise_from_cause
    reraise(type(exception), exception, tb=exc_tb, cause=cause)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\util\compat.py", line 186, in reraise
    raise value.with_traceback(tb)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\base.py", line 1182, in _execute_context
    context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\engine\default.py", line 470, in do_execute
    cursor.execute(statement, parameters)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 250, in execute
    self.errorhandler(self, exc, value)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\connections.py", line 50, in defaulterrorhandler
    raise errorvalue
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 247, in execute
    res = self._query(query)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 411, in _query
    rowcount = self._do_query(q)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\cursors.py", line 374, in _do_query
    db.query(q)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\MySQLdb\connections.py", line 277, in query
    _mysql.connection.query(self, query)
sqlalchemy.exc.IntegrityError: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:12:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:12:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:13:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:14:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:14:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:15:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:15:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:16:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:16:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:17:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:18:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:18:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:19:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:19:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:20:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:20:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:21:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:21:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_10:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_10:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:22:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:22:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:23:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:23:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:24:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:24:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:25:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:26:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:26:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:27:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:27:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:28:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:28:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:29:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:29:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_10:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_10:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:30:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:30:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:31:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:31:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_15:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_15:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:32:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:32:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:33:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 23, in short_term_forecasting
    pv_profile = short_term_forecasting_pv_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 158, in short_term_forecasting_pv_history
    db_short_term_forecasting.TIME_STAMP == Target_Time).count() == 0:
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 3089, in count
    return self.from_self(col).scalar()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2843, in scalar
    ret = self.one()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2814, in one
    ret = self.one_or_none()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2784, in one_or_none
    ret = list(self)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2855, in __iter__
    return self._execute_and_instances(context)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2876, in _execute_and_instances
    close_with_result=True)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2885, in _get_bind_args
    **kw
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\query.py", line 2867, in _connection_from_session
    conn = self.session.connection(**kw)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1013, in connection
    execution_options=execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 1018, in _connection_for_bind
    engine, execution_options)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 382, in _connection_for_bind
    self._assert_active()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\sqlalchemy\orm\session.py", line 276, in _assert_active
    % self._rollback_exception
sqlalchemy.exc.InvalidRequestError: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (_mysql_exceptions.IntegrityError) (1062, "Duplicate entry '1516425060' for key 'PRIMARY'") [SQL: 'INSERT INTO short_term_forecasting (`TIME_STAMP`, `AC_PD`, `AC_QD`, `UAC_PD`, `UAC_QD`, `DC_PD`, `UDC_PD`, `PV_PG`, `WP_PG`, `PRICE`) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s)'] [parameters: (1516425060, 0, 0, 0, 0, 0, 0, 0, 0, 0)]
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-20 13:33:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_10:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_10:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-21 08:49:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short,ACmodel),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-21 08:53:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 34, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short,ACmodel),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-21 08:54:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 34, in <lambda>
    lambda: short_term_operation.short_term_operation_lems(local_model_short,session_lems_short,ACmodel),
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-21 08:59:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='1')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models,ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 41, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='1'], next run at: 2018-01-21 09:03:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='1')  # The operation is triggered minutely
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:06 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:08 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:10 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:12 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:14 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:16 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:18 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:20 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:22 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:24 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:26 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:03:28 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:04:36 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model1 = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:04:38 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model1 = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:04:40 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model1 = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:04:42 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_10:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model1 = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_10:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:04:44 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model1 = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/2'], next run at: 2018-01-21 09:04:46 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/2')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model1 = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/10'], next run at: 2018-01-21 09:05:10 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/10')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model1 = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/10'], next run at: 2018-01-21 09:05:20 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/10')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model1 = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder_5:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='0-59', second='*/10'], next run at: 2018-01-21 09:05:30 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='0-59', second='*/10')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model1 = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='*/2', second='1'], next run at: 2018-01-21 09:08:01 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1064, in _run
    allow_operation=False)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='*/2', second='1')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD=f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 268, in forecastingAC
    model1 = load_model('AC_PD_f.h5')
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 243, in load_model
    topology.load_weights_from_hdf5_group(f['model_weights'], model.layers)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\topology.py", line 3143, in load_weights_from_hdf5_group
    K.batch_set_value(weight_value_tuples)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2252, in batch_set_value
    get_session().run(assign_ops, feed_dict=feed_dict)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 889, in run
    run_metadata_ptr)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\client\session.py", line 1067, in _run
    + e.args[0])
TypeError: Cannot interpret feed_dict key as Tensor: Tensor Tensor("Placeholder:0", shape=(14, 4), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='*/1', second='*/5'], next run at: 2018-01-21 09:33:30 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='*/1', second='*/5')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='*/1', second='*/5'], next run at: 2018-01-21 09:33:35 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='*/1', second='*/5')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='*/1', second='*/5'], next run at: 2018-01-21 09:33:40 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='*/1', second='*/5')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='*/1', second='*/5'], next run at: 2018-01-21 09:33:45 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='*/1', second='*/5')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "run.<locals>.<lambda> (trigger: cron[minute='*/1', second='*/5'], next run at: 2018-01-21 09:33:50 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='*/1', second='*/5')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='0-59', second='*/3'], next run at: 2018-01-21 09:36:21 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='0-59', second='*/3'], next run at: 2018-01-21 09:36:24 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='0-59', second='*/3'], next run at: 2018-01-21 09:36:27 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='0-59', second='*/3'], next run at: 2018-01-21 09:36:30 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='0-59', second='*/3'], next run at: 2018-01-21 09:36:33 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='0-59', second='*/3'], next run at: 2018-01-21 09:36:36 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='0-59', second='*/3'], next run at: 2018-01-21 09:36:39 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='0-59', second='*/3'], next run at: 2018-01-21 09:36:42 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='0-59', second='*/3'], next run at: 2018-01-21 09:36:45 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='0-59', second='*/3'], next run at: 2018-01-21 09:36:48 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='0-59', second='*/3'], next run at: 2018-01-21 09:36:51 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:42:30 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:43:51 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:43:54 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 279, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 207, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:44:54 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 280, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:44:57 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 280, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 208, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:45:39 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 281, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 209, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:45:42 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 281, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 209, in make_forecasts
    forecast = forecast_lstm(model,X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:46:30 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 282, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 210, in make_forecasts
    forecast = forecast_lstm(model, X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 194, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:46:33 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 282, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 210, in make_forecasts
    forecast = forecast_lstm(model, X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 194, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:46:54 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 283, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 211, in make_forecasts
    forecast = forecast_lstm(model, X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 195, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:46:57 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 283, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 211, in make_forecasts
    forecast = forecast_lstm(model, X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 195, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:47:30 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 283, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 211, in make_forecasts
    forecast = forecast_lstm(model, X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 195, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:47:33 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 283, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 211, in make_forecasts
    forecast = forecast_lstm(model, X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 195, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:47:36 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 283, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 211, in make_forecasts
    forecast = forecast_lstm(model, X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 195, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:47:39 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 283, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 211, in make_forecasts
    forecast = forecast_lstm(model, X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 195, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/1', second='*/3'], next run at: 2018-01-21 09:47:42 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 283, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 211, in make_forecasts
    forecast = forecast_lstm(model, X, n_batch)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 195, in forecast_lstm
    forecast = model.predict(X, batch_size=n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:48:57 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\forecasting_AC.py", line 281, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\forecasting_AC.py", line 209, in make_forecasts
    forecast = forecast_lstm(model, X, n_batch)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size = n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:00 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\forecasting_AC.py", line 281, in forecastingAC
    forecasts = make_forecasts(model,n_batch, train, test, n_lag, n_seq)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\forecasting_AC.py", line 209, in make_forecasts
    forecast = forecast_lstm(model, X, n_batch)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system\forecasting\forecasting_AC.py", line 193, in forecast_lstm
    forecast = model.predict(X, batch_size = n_batch)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\models.py", line 1006, in predict
    return self.model.predict(x, batch_size=batch_size, verbose=verbose)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1787, in predict
    self._make_predict_function()
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\engine\training.py", line 1029, in _make_predict_function
    **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2381, in function
    return Function(inputs, outputs, updates=updates, **kwargs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\keras\backend\tensorflow_backend.py", line 2324, in __init__
    with tf.control_dependencies(self.outputs):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4304, in control_dependencies
    return get_default_graph().control_dependencies(control_inputs)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 4017, in control_dependencies
    c = self.as_graph_element(c)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3035, in as_graph_element
    return self._as_graph_element_locked(obj, allow_tensor, allow_operation)
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\tensorflow\python\framework\ops.py", line 3114, in _as_graph_element_locked
    raise ValueError("Tensor %s is not an element of this graph." % obj)
ValueError: Tensor Tensor("dense_1/BiasAdd:0", shape=(1, 2), dtype=float32) is not an element of this graph.
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:03 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:06 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:09 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:12 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:15 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:18 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:21 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:24 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:27 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:30 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:33 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:36 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:39 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:42 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:45 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:48 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:51 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:54 +08)" skipped: maximum number of running instances reached (1)
Execution of job "short_term_operation.short_term_operation_lems (trigger: cron[minute='*/2', second='*/3'], next run at: 2018-01-21 09:50:57 +08)" skipped: maximum number of running instances reached (1)
Job "run.<locals>.<lambda> (trigger: cron[minute='*/1', second='*/5'], next run at: 2018-01-21 10:20:15 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='*/1', second='*/5')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 287, in forecastingAC
    forecasts = inverse_transform(power, forecasts, scaler, n_test, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 237, in inverse_transform
    forecast = forecast.reshape(1, len(forecast))
ValueError: cannot reshape array of size 14 into shape (1,1)
Job "run.<locals>.<lambda> (trigger: cron[minute='*/1', second='*/5'], next run at: 2018-01-21 10:20:20 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='*/1', second='*/5')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 287, in forecastingAC
    forecasts = inverse_transform(power, forecasts, scaler, n_test, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 237, in inverse_transform
    forecast = forecast.reshape(1, len(forecast))
ValueError: cannot reshape array of size 14 into shape (1,1)
Job "run.<locals>.<lambda> (trigger: cron[minute='*/1', second='*/5'], next run at: 2018-01-21 10:20:25 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='*/1', second='*/5')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 287, in forecastingAC
    forecasts = inverse_transform(power, forecasts, scaler, n_test, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 237, in inverse_transform
    forecast = forecast.reshape(1, len(forecast))
ValueError: cannot reshape array of size 14 into shape (1,1)
Job "run.<locals>.<lambda> (trigger: cron[minute='*/1', second='*/5'], next run at: 2018-01-21 10:20:30 +08)" raised an exception
Traceback (most recent call last):
  File "C:\Users\xuqianwen\AppData\Local\Programs\Python\Python36\lib\site-packages\apscheduler\executors\base.py", line 125, in run_job
    retval = job.func(*job.args, **job.kwargs)
  File "C:/Users/xuqianwen/PycharmProjects/local_energy_management_system/local_ems.py", line 33, in <lambda>
    sched_lems.add_job( lambda: short_term_operation.short_term_operation_lems(local_model_short, session_lems_short, ACmodel),'cron', minute='*/1', second='*/5')  # The operation is triggered minutely
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\main.py", line 43, in short_term_operation_lems
    thread_forecasting = ForecastingThread.short_term_forecasting(session, Target_time, local_models, ACmodel)  # The forecasting thread
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\optimal_power_flow\short_term_forecasting.py", line 42, in short_term_forecasting
    load_ac = short_term_forecasting_load_ac_history(session, Target_time,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\short_term_forecasting.py", line 216, in short_term_forecasting_load_ac_history
    AC_PD = f_AC.forecastingAC(timeAC,ACmodel)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 287, in forecastingAC
    forecasts = inverse_transform(power, forecasts, scaler, n_test, n_seq)
  File "C:\Users\xuqianwen\PycharmProjects\local_energy_management_system\forecasting\forecasting_AC.py", line 237, in inverse_transform
    forecast = forecast.reshape(1, len(forecast))
ValueError: cannot reshape array of size 14 into shape (1,1)
